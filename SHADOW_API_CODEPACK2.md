<!--



















































































































































































































































**Status:** Backend 100% complete. UI ready when you are. ðŸš€- Task queue visualizer- System status dashboard- Voice input button component- Command Center UI (`/app/command-center/page.tsx`)- Shadow Control Panel UI (`/app/shadow/page.tsx`)## Next: CODE PACK 3 (UI Components)---âœ… **Voice to File System** - "Create new component file"âœ… **Voice to Git** - "Commit and push"âœ… **Voice to WordPress** - "Update theme header"âœ… **Voice to Deploy** - "Push my changes live"âœ… **Voice to Code** - "Update app/page.tsx with new hero section"## What You Can Do Now---```  -d '{\"action\":\"push\"}'  -H "Content-Type: application/json" `curl -X POST http://localhost:3000/api/shadow/site-action `# Test 5: Site Action - Push  -d '{\"action\":\"update_file\",\"target\":\"test-action.txt\",\"content\":\"Action works!\"}'  -H "Content-Type: application/json" `curl -X POST http://localhost:3000/api/shadow/site-action `# Test 4: Site Action - Update Filecurl -X POST http://localhost:3000/api/shadow/push# Test 3: Auto Push (WARNING: Will commit and push!)  -d '{\"filePath\":\"shadow-test.txt\",\"content\":\"CODE PACK 2 WORKS\"}'  -H "Content-Type: application/json" `curl -X POST http://localhost:3000/api/shadow/update-file `# Test 2: Update File  -d '{\"command\":\"echo Shadow Exec Test\"}'  -H "Content-Type: application/json" `curl -X POST http://localhost:3000/api/shadow/exec `# Test 1: Exec```powershell**PowerShell Test Suite:**## Testing All Endpoints---```}  return NextResponse.json({ error: "Unauthorized" }, { status: 401 });if (authToken !== process.env.SHADOW_SECRET_KEY) {const authToken = req.headers.get("Authorization");```typescript**Recommended Auth Pattern:**5. **Environment Variables** - Never commit sensitive data4. **File Path Validation** - Prevent directory traversal attacks3. **Whitelist Commands** - Restrict allowed shell commands2. **Rate Limiting** - Prevent abuse of exec/push endpoints1. **Add Authentication** - These endpoints have NO auth by defaultâš ï¸ **PRODUCTION WARNINGS:**## Security Notes---**Result:** Homepage updated + committed + pushed to GitHub â†’ Auto-deploys on Vercel```}  "action": "push"{```json**Step 2:** Push via `/api/shadow/site-action````}  "content": "export default function Home() { return <h1>Updated!</h1>; }"  "target": "app/page.tsx",  "action": "update_file",{```json**Step 1:** Update file via `/api/shadow/site-action`**Voice Command:** "Update my homepage and push it live"## Combined Workflow Example---- `wp_update` â€” Update WordPress files- `restore` â€” Restore from backup- `backup` â€” Create backup snapshot- `deploy` â€” Trigger Vercel/Cloudflare deploy**Future Actions (ready to add):**- `push` â€” Git commit + push- `update_file` â€” Write to any file**Supported Actions:**```}  "stderr": ""  "stdout": "...",  "action": "push",  "success": true,{```json**Response:**```}  "action": "push"{```json**Action: push**```}  "target": "app/page.tsx"  "action": "update_file",  "success": true,{```json**Response:**```}  "content": "// New content"  "target": "app/page.tsx",  "action": "update_file",{```json**Action: update_file**Single endpoint for multiple Shadow operations.**Universal Action Controller**### 4. POST `/api/shadow/site-action`---- Emergency saves- Scheduled backups- Auto-deploy after file edits- Voice command: "Push my changes"**Use Cases:**3. `git push origin main` â€” Push to GitHub2. `git commit -m "Shadow Auto-Push <timestamp>"` â€” Commit with timestamp1. `git add .` â€” Stage all changes**What It Does:**```}  "error": null  "stderr": "",  "stdout": "git add .\ngit commit...\ngit push...",  "success": true,{```json**Response:***No body required - POST with empty JSON*```{}```json**Request:**Automatically stage, commit, and push all changes to main.**Auto Git Push**### 3. POST `/api/shadow/push`---- Safe error handling- Returns absolute path- Overwrites existing files- Creates parent directories automatically (`recursive: true`)**Features:**```}  "path": "C:/Users/MrJws/3000studios-next/app/new-folder/test.txt"  "success": true,{```json**Response:**```}  "content": "Hello Shadow"  "filePath": "app/new-folder/test.txt",{```json**Request:**Write to any file with automatic directory creation.**Smart File Writer**### 2. POST `/api/shadow/update-file`---- System diagnostics- File system operations- Execute git operations- Run build commands**Use Cases:**```}  "error": null  "stderr": "",  "stdout": "total 32\ndrwxr-xr-x ...",  "success": true,{```json**Response:**```}  "command": "ls -la"{```json**Request:**Execute any shell command on the server.**Direct Shell Command Execution**### 1. POST `/api/shadow/exec`## New Endpoints Created  Copyright (c) 2025 NAME.
  All rights reserved.
  Unauthorized copying, modification, distribution, or use of this is prohibited without express written permission.
-->

# ðŸ”¥ SHADOW API REFERENCE â€” CODE PACK 2